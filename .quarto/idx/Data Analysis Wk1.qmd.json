{"title":"Some practice","markdown":{"yaml":{"title":"Some practice","format":{"html":{"self-contained":true,"code-line-numbers":true},"pdf":{"documentclass":"article"}},"custom_title_page":false,"filters":["lightbox"],"lightbox":"auto"},"headingText":"abstract: Today we had an introduction to how to create subsets by row, subset by colls, appending (joining up-down), merging (joining left-righ).","containsRefs":false,"markdown":"\n\n---\nsubtitle: \"Let's practice some usefull commands\"\ndate: 2023-02-27\n\nauthor:\n  - name: Javier Silva-Valencia\n    orcid: 0000-0002-5982-2821\n    email: javier.silva@unmsm.edu.pe\n    affiliations:\n      - name: Instituut Voor Tropische Geneeskunde. Antwerp-Belgium\n\nlanguage: \n  title-block-author-single: \"Writer\"\n  \n\n------------------------------------------------------------------------\n\n------------------------------------------------------------------------\n\n### Exercise 1\n\nLet's practice dividing and joining data.\n\n#### Import CSV\n\nImporting the CSV database under the name of Q1_B, with \",\" as separator, and with \".\" as decimal:\n\n```{r}\nQ1_B <- read.csv(\"C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk/Material/Q1_B.csv\", sep=\",\", dec= \".\")\n```\n\n#### Create a subset by row\n\nChecking the identification variable of this dataset (FSN)\n\n```{r}\nsummary(Q1_B$FSN)\n```\n\n::: callout-tip\nThe median is 52032\n:::\n\nLet's divide the data in two parts taking as cut point the half of the rows (The median of FSN)\n\n```{r}\ntop <- subset(Q1_B, subset= FSN < 52032)\nbottom <- subset(Q1_B, subset= FSN >= 52032)\n```\n\nSeeing the structure of the original dataset and the new subsets\n\n```{r}\nstr(Q1_B)     #Original dataset\nstr(top)      #Subset top of the data\nstr(bottom)   #Subset bottom of the data\n```\n\n::: callout-tip\nIn Q1_B we have 13377 obs\n\nIf we sum the observations in the subsets:\n\nTop + bottom: 6688 + 6689 =13377\n\nSo, it is ok\n:::\n\n#### Joining (Append)\nLet's join the two subsets (top and bottom)\n\n```{r}\nmerged_top_bottom  <-  rbind(top,bottom)  #To merge\nstr(merged_top_bottom)                    #To see the result\n```\n\n::: callout-tip\nThere are 13377 obs \n\nIt is the same of the original, So it is ok\n:::\n\n#### Create a subset by coll\n\nSeeing the names of the collums (name of the variables)\n\n```{r}\nnames(Q1_B)\n```\n\nLet's divide the data in two parts taking as cut point the half of the columns\n\nWe have to be careful to keep an identification variable in each subset (in this case is FSN)\n\n```{r}\nLeft <- subset(Q1_B, select=c(\"ID\", \"FSN\", \"Neem_Tree\", \"Neem_Tree_Distance\", \"Neem_Tree_Size\", \"Neem_Tree_Age\", \"Neem_Tree_Usage\", \"Neem_Tree_Use_Other\", \"Bamboo_Tree\", \"Bamboo_Tree_Dist\", \"Banana_Tree\", \"Banana_Tree_Dist\", \"Rice_Field\", \"Rice_Field_Dist\", \"Perm_Water_Body\", \"Perm_Wat_Body_Dist\",  \"Wat_Body_Mid_Point\", \"No_Mosquito_Net\", \"Sprayed_2010\", \"Sprayed_2009\", \"Floor_Material\"))\nstr(Left)\n```\n\n```{r}\nRigth <- subset(Q1_B, select=c(\"FSN\", \"Other_Floor_Mat\", \"Is_Floor_Damp\", \"Roof_Material\", \"Other_Roof_Material\", \"Wall_Material\", \"Other_Wall_Material\", \"Windows_in_Room\", \"Granaries_in_HH\", \"Source_Drink_Water\", \"Other_Src_Drink_Wat\", \"Toilet_Facility\", \"Other_Toilet_Fac\", \"Cooking_Fuel\", \"Other_Cooking_Fuel\", \"Source_Light\", \"Other_Source_Light\", \"Electricity_in_HH\", \"No_Of_Rooms\", \"No_Sleeping_Rooms\"))\n\n#Or select the opposite (With a \"-\" in front of the c):\n#Rigth <- subset(Q1_B, select=-c(\"ID\", \"Neem_Tree\", \"Neem_Tree_Distance\", \"Neem_Tree_Size\", \"Neem_Tree_Age\", \"Neem_Tree_Usage\", \"Neem_Tree_Use_Other\", \"Bamboo_Tree\", \"Bamboo_Tree_Dist\", \"Banana_Tree\", \"Banana_Tree_Dist\", \"Rice_Field\", \"Rice_Field_Dist\", \"Perm_Water_Body\", \"Perm_Wat_Body_Dist\",  \"Wat_Body_Mid_Point\", \"No_Mosquito_Net\", \"Sprayed_2010\", \"Sprayed_2009\", \"Floor_Material\"))\n\nstr(Rigth)\n```\n\n#### Joining (Merge)\n\nLet's join the two subsets (left and right) according to the FSN \n\n```{r}\nmerged_left_right  <-  merge(Left, Rigth, all=TRUE, by = \"FSN\")\nstr(merged_left_right)\n```\n\n\n\n### Exercise 2\n\nLet's practice renaming variables and replacing values\n\n```{r}\nQ1_B_1 <- read.csv(\"C:/Users/pined/OneDrive - Universidad Nacional Mayor de San Marcos/Javier 2022/Belgica/AC2_DataAnalysis_ThWk/Material/Q1_B_1.csv\", sep=\",\", dec= \".\")\n```\n\n```{r}\nstr(Q1_B_1)\nhead(Q1_B_1)\n```\n\n::: callout-tip\nWe observe: \n\n- There are 9029 obs \n\n- The animal name is quite large sometimes \n\n- The variable names are quite large\n:::\n\n\n#### Renaming variables\n\nRenaming variables labels: In collumns 2-5 to \"anim\", \"count\", \"dist\", \"indor\", \"daysin\"\n\n```{r}\nnames(Q1_B_1)[c(2,3,4,5,6)] <- c(\"anim\", \"count\", \"dist\", \"indor\", \"daysin\")\nstr(Q1_B_1)\n#View(Q1_B_1)\n```\n\n```{r}\ntable(Q1_B_1$count)\ntable(Q1_B_1$dist)\ntable(Q1_B_1$indor)\ntable(Q1_B_1$daysin)\n```\n\n#### Replacing values in observations\n\n```{r}\ntable(Q1_B_1$anim)\nQ1_B_1$anim[Q1_B_1$anim ==\"Buffaloes\"] <- \"Buff\"\nQ1_B_1$anim[Q1_B_1$anim ==\"Goats\"] <- \"Goat\"\n\n#But if we want to keep the 4 (x) first characters in a all rows\nQ1_B_1$anim <- substr(Q1_B_1$anim, 0, 3)\ntable(Q1_B_1$anim)\nstr(Q1_B_1)\n```\n\n\nWe are going to save this data because we are going to use it later\n```{r}\nsaveRDS(Q1_B_1, \"Q1_B_1.RDS\")\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":true,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"toc-depth":4,"reference-location":"margin","filters":["lightbox"],"self-contained":true,"output-file":"Data Analysis Wk1.html"},"language":{"title-block-author-single":"Writer"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.2.269","editor":"visual","knitr":{"opts_chunk":{"cache":true,"cache.lazy":false,"R.options":{"knitr.graphics.auto_pdf":true},"attr.source":".numberLines"}},"theme":{"light":["flatly","custom.scss"]},"fontsize":"16px","linestretch":1.6,"smooth-scroll":true,"title":"Some practice","custom_title_page":false,"lightbox":"auto","subtitle":"Let's practice some usefull commands","date":"2023-02-27","author":[{"name":"Javier Silva-Valencia","orcid":"0000-0002-5982-2821","email":"javier.silva@unmsm.edu.pe","affiliations":[{"name":"Instituut Voor Tropische Geneeskunde. Antwerp-Belgium"}]}],"abstract":"Today we had an introduction to how to create subsets by row, subset by colls, appending (joining up-down), merging (joining left-righ)."},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","filters":["lightbox"],"output-file":"Data Analysis Wk1.pdf"},"language":{"title-block-author-single":"Writer"},"metadata":{"block-headings":true,"editor":"visual","knitr":{"opts_chunk":{"cache":true,"cache.lazy":false,"R.options":{"knitr.graphics.auto_pdf":true},"attr.source":".numberLines"}},"title":"Some practice","custom_title_page":false,"lightbox":"auto","subtitle":"Let's practice some usefull commands","date":"2023-02-27","author":[{"name":"Javier Silva-Valencia","orcid":"0000-0002-5982-2821","email":"javier.silva@unmsm.edu.pe","affiliations":[{"name":"Instituut Voor Tropische Geneeskunde. Antwerp-Belgium"}]}],"abstract":"Today we had an introduction to how to create subsets by row, subset by colls, appending (joining up-down), merging (joining left-righ).","documentclass":"article"},"extensions":{"book":{}}}}}